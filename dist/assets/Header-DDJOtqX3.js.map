{"version":3,"file":"Header-DDJOtqX3.js","sources":["../../src/pages/header/Header.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport css from './style.module.css';\nimport ModalAuth from '../../components/Modals/ModalAuth/ModalAuth.jsx';\nimport sprite from '../../assets/sprite.svg';\nimport { logout } from '../../redux/auth/authOperation.js';\nimport { selectUser } from '../../redux/auth/authSlice.js';\n\nconst Header = () => {\n  const [modalState, setModalState] = useState(null); // null, 'login', or 'register'\n  const user = useSelector(selectUser);\n  const dispatch = useDispatch();\n\n  const authenticated = Boolean(user && user.uid);\n\n  const openModal = type => setModalState(type);\n  const closeModal = () => setModalState(null);\n\n  const handleLogout = async () => {\n    try {\n      await dispatch(logout()).unwrap();\n      closeModal();\n    } catch (error) {\n      console.error('Logout failed', error);\n    }\n  };\n\n  useEffect(() => {\n    if (user) {\n      console.log('User object in Header:', user);\n      console.log('DisplayName:', user.displayName);\n    }\n  }, [user]);\n\n  return (\n    <div className={css.header_container}>\n      <header className={css.header}>\n        <div className={css.logo}>\n          <span>psychologists.</span>services\n        </div>\n\n        <nav className={css.nav_menu}>\n          <NavLink to=\"/\" end className={({ isActive }) => (isActive ? css.active : '')}>\n            Home\n          </NavLink>\n          <NavLink to=\"/psychologists\" className={({ isActive }) => (isActive ? css.active : '')}>\n            Psychologists\n          </NavLink>\n          {authenticated && (\n            <NavLink to=\"/favorites\" className={({ isActive }) => (isActive ? css.active : '')}>\n              Favorites\n            </NavLink>\n          )}\n        </nav>\n        <div className={css.auth_buttons}>\n          {authenticated ? (\n            <div className={css.user_info}>\n              <button className={css.auth_button_user}>\n                <svg className={css.avatar}>\n                  <use href={`${sprite}#icon-avatar`} />\n                </svg>\n                <div className={css.user_name}>{user.displayName || 'User'}</div>\n              </button>\n              <button className={css.auth_button_logout} onClick={handleLogout}>\n                Log out\n              </button>\n            </div>\n          ) : (\n            <>\n              <button className={css.auth_button_login} onClick={() => openModal('login')}>\n                Login\n              </button>\n              <button\n                className={css.auth_button_registration}\n                onClick={() => openModal('register')}\n              >\n                Registration\n              </button>\n            </>\n          )}\n        </div>\n      </header>\n      <ModalAuth isOpen={modalState !== null} onClose={closeModal} type={modalState} />\n    </div>\n  );\n};\n\nexport default Header;\n"],"names":["Header","modalState","setModalState","useState","user","useSelector","selectUser","dispatch","useDispatch","authenticated","openModal","type","closeModal","handleLogout","logout","error","useEffect","jsxs","css","jsx","NavLink","isActive","sprite","Fragment","ModalAuth"],"mappings":"ivBASMA,EAAS,IAAM,CACnB,KAAM,CAACC,EAAYC,CAAa,EAAIC,WAAS,IAAI,EAC3CC,EAAOC,EAAYC,CAAU,EAC7BC,EAAWC,IAEXC,EAAgB,GAAQL,GAAQA,EAAK,KAErCM,EAAoBC,GAAAT,EAAcS,CAAI,EACtCC,EAAa,IAAMV,EAAc,IAAI,EAErCW,EAAe,SAAY,CAC3B,GAAA,CACF,MAAMN,EAASO,GAAQ,EAAE,OAAO,EACrBF,UACJG,EAAO,CACN,QAAA,MAAM,gBAAiBA,CAAK,CACtC,CAAA,EAGFC,OAAAA,EAAAA,UAAU,IAAM,CACVZ,IACM,QAAA,IAAI,yBAA0BA,CAAI,EAClC,QAAA,IAAI,eAAgBA,EAAK,WAAW,EAC9C,EACC,CAACA,CAAI,CAAC,EAGNa,EAAAA,KAAA,MAAA,CAAI,UAAWC,EAAI,iBAClB,SAAA,CAACD,EAAA,KAAA,SAAA,CAAO,UAAWC,EAAI,OACrB,SAAA,CAACD,EAAA,KAAA,MAAA,CAAI,UAAWC,EAAI,KAClB,SAAA,CAAAC,EAAAA,IAAC,QAAK,SAAc,gBAAA,CAAA,EAAO,UAAA,EAC7B,EAECF,EAAA,KAAA,MAAA,CAAI,UAAWC,EAAI,SAClB,SAAA,CAAAC,EAAA,IAACC,EAAQ,CAAA,GAAG,IAAI,IAAG,GAAC,UAAW,CAAC,CAAE,SAAAC,CAAgB,IAAAA,EAAWH,EAAI,OAAS,GAAK,SAE/E,OAAA,EACCC,EAAA,IAAAC,EAAA,CAAQ,GAAG,iBAAiB,UAAW,CAAC,CAAE,SAAAC,CAAgB,IAAAA,EAAWH,EAAI,OAAS,GAAK,SAExF,eAAA,CAAA,EACCT,GACCU,EAAA,IAACC,EAAQ,CAAA,GAAG,aAAa,UAAW,CAAC,CAAE,SAAAC,CAAA,IAAgBA,EAAWH,EAAI,OAAS,GAAK,SAEpF,YAAA,CAAA,EAEJ,EACAC,EAAAA,IAAC,MAAI,CAAA,UAAWD,EAAI,aACjB,WACED,EAAA,KAAA,MAAA,CAAI,UAAWC,EAAI,UAClB,SAAA,CAACD,EAAA,KAAA,SAAA,CAAO,UAAWC,EAAI,iBACrB,SAAA,CAACC,EAAA,IAAA,MAAA,CAAI,UAAWD,EAAI,OAClB,SAAAC,EAAAA,IAAC,OAAI,KAAM,GAAGG,CAAM,cAAgB,CAAA,EACtC,QACC,MAAI,CAAA,UAAWJ,EAAI,UAAY,SAAAd,EAAK,aAAe,OAAO,CAAA,EAC7D,QACC,SAAO,CAAA,UAAWc,EAAI,mBAAoB,QAASL,EAAc,SAElE,UAAA,CAAA,CAAA,CACF,EAGEI,EAAAA,KAAAM,EAAA,SAAA,CAAA,SAAA,CAACJ,EAAAA,IAAA,SAAA,CAAO,UAAWD,EAAI,kBAAmB,QAAS,IAAMR,EAAU,OAAO,EAAG,SAE7E,OAAA,CAAA,EACAS,EAAA,IAAC,SAAA,CACC,UAAWD,EAAI,yBACf,QAAS,IAAMR,EAAU,UAAU,EACpC,SAAA,cAAA,CAED,CAAA,CAAA,CACF,CAEJ,CAAA,CAAA,EACF,EACAS,MAACK,GAAU,OAAQvB,IAAe,KAAM,QAASW,EAAY,KAAMX,EAAY,CACjF,CAAA,CAAA,CAEJ"}